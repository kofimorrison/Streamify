{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","actions/types.js","components/streams/StreamList.js","components/streams/StreamShow.js","components/streams/StreamForm.js","components/streams/StreamEdit.js","components/streams/StreamCreate.js","components/Modal.js","components/streams/StreamDelete.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["axios","create","baseURL","createBrowserHistory","fetchStream","id","_ref3","Object","asyncToGenerator","regenerator_default","a","mark","_callee3","dispatch","response","wrap","_context3","prev","next","streams","get","concat","sent","type","payload","data","stop","_x4","apply","this","arguments","StreamList","props","fetchStreams","stream","userId","currentUserId","react_default","createElement","className","react_router_dom","to","_this","map","key","renderAdmin","title","description","isSignedIn","style","textAlign","renderList","renderCreate","Component","connect","state","values","auth","_ref2","_callee2","_context2","_x3","StreamShow","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","videoRef","React","createRef","match","params","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","load","ref","width","controls","ownProps","StreamForm","renderInput","formProps","meta","error","touched","label","assign","input","autoComplete","renderError","onSubmit","formValues","handleSubmit","Field","name","component","reduxForm","form","validate","errors","StreamEdit","editStream","streams_StreamForm","initialValues","_ref5","_callee5","_context5","patch","history","push","_x6","StreamCreate","createStream","_ref","_callee","getState","_context","post","objectSpread","_x","_x2","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","Fragment","deleteStream","components_Modal","renderContent","renderActions","_ref4","_callee4","_context4","delete","_x5","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInClick","onSignOutClick","_this2","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","components_GoogleAuth","App","react_router","components_Header","path","exact","INITIAL_STATE","combineReducers","length","undefined","action","formReducer","defineProperty","_","mapKeys","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render","es","components_App"],"mappings":"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","file":"static/js/main.88898513.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://localhost:3001\"\r\n});\r\n","import { createBrowserHistory } from \"history\";\r\n\r\nexport default createBrowserHistory();\r\n","import streams from \"../apis/streams\";\r\nimport history from \"../history\";\r\nimport {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n  CREATE_STREAM,\r\n  FETCH_STREAMS,\r\n  FETCH_STREAM,\r\n  DELETE_STREAM,\r\n  EDIT_STREAM\r\n} from \"./types\";\r\n\r\nexport const signIn = userId => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: userId\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return {\r\n    type: SIGN_OUT\r\n  };\r\n};\r\n\r\nexport const createStream = formValues => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  const response = await streams.post(`/streams`, { ...formValues, userId });\r\n  dispatch({ type: CREATE_STREAM, payload: response.data });\r\n  history.push(\"/\");\r\n};\r\n\r\nexport const fetchStreams = () => async dispatch => {\r\n  const response = await streams.get(`/streams/`);\r\n  dispatch({ type: FETCH_STREAMS, payload: response.data });\r\n};\r\n\r\nexport const fetchStream = id => async dispatch => {\r\n  const response = await streams.get(`/streams/${id}`);\r\n  dispatch({ type: FETCH_STREAM, payload: response.data });\r\n};\r\nexport const deleteStream = id => async dispatch => {\r\n  await streams.delete(`/streams/${id}`);\r\n  dispatch({ type: DELETE_STREAM, payload: id });\r\n  history.push(\"/\")\r\n};\r\n\r\nexport const editStream = (id, formValues) => async dispatch => {\r\n  const response = await streams.patch(`/streams/${id}`, formValues);\r\n  dispatch({ type: EDIT_STREAM, payload: response.data });\r\n  history.push(\"/\");\r\n};\r\n","export const SIGN_IN = \"SIGN_IN\";\r\nexport const SIGN_OUT = \"SIGN_OUT\";\r\nexport const CREATE_STREAM = \"CREATE_STREAM\";\r\nexport const FETCH_STREAMS = \"FETCH_STREAMS\";\r\nexport const FETCH_STREAM = \"FETCH_STREAM\";\r\nexport const DELETE_STREAM = \"DELETE_STREAM\";\r\nexport const EDIT_STREAM = \"EDIT_STREAM\";\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchStreams } from \"../../actions\";\r\n\r\nclass StreamList extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchStreams();\r\n  }\r\n  renderAdmin(stream) {\r\n    if (stream.userId === this.props.currentUserId) {\r\n      return (\r\n        <div className=\"right floated content\">\r\n          <Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\">\r\n            Edit\r\n          </Link>\r\n          <Link\r\n            to={`/streams/delete/${stream.id}`}\r\n            className=\"ui button negative\"\r\n          >\r\n            Delete\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  renderList() {\r\n    return this.props.streams.map(stream => {\r\n      return (\r\n        <div className=\"item\" key={stream.id}>\r\n          {this.renderAdmin(stream)}\r\n          <i className=\"large middle aligned icon camera\" />\r\n          <div className=\"content\">\r\n            <Link to={`/streams/${stream.id}`} className=\"header\">\r\n              {stream.title}\r\n            </Link>\r\n\r\n            <div className=\"description\">{stream.description}</div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n  renderCreate() {\r\n    if (this.props.isSignedIn === true) {\r\n      return (\r\n        <div style={{ textAlign: \"right\" }}>\r\n          <Link to=\"/streams/new\" className=\"ui button primary\">\r\n            Create Stream\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Streams</h2>\r\n        <div className=\"ui celled list\">{this.renderList()}</div>\r\n        {this.renderCreate()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    streams: Object.values(state.streams),\r\n    currentUserId: state.auth.userId,\r\n    isSignedIn: state.auth.isSignedIn\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchStreams }\r\n)(StreamList);\r\n","import React from \"react\";\r\nimport flv from \"flv.js\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchStream } from \"../../actions\";\r\n\r\nclass StreamShow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.videoRef = React.createRef();\r\n  }\r\n  componentDidMount() {\r\n    this.props.fetchStream(this.props.match.params.id);\r\n    this.buildPlayer();\r\n  }\r\n  componentDidUpdate() {\r\n    this.buildPlayer();\r\n  }\r\n  componentWillUnmount() {\r\n    this.player.destroy();\r\n  }\r\n\r\n  buildPlayer() {\r\n    if (this.player || !this.props.stream) {\r\n      return;\r\n    }\r\n    this.player = flv.createPlayer({\r\n      type: \"flv\",\r\n      url: `http://localhost:8000/live/${this.props.match.params.id}.flv`\r\n    });\r\n    this.player.attachMediaElement(this.videoRef.current);\r\n    this.player.load();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.stream) {\r\n      return <div>Loading...</div>;\r\n    }\r\n    return (\r\n      <div>\r\n        <video ref={this.videoRef} style={{ width: \"100%\" }} controls={true} />\r\n        <h1>{this.props.stream.title}</h1>\r\n        <h5>{this.props.stream.description}</h5>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchStream }\r\n)(StreamShow);\r\n","import React, { Component } from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\n\r\nclass StreamForm extends Component {\r\n  renderError(meta) {\r\n    if (meta.touched && meta.error) {\r\n      return (\r\n        <div className=\"ui error message\">\r\n          <div className=\"header\">{meta.error}</div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  renderInput = formProps => {\r\n    const className = `field ${\r\n      formProps.meta.error && formProps.meta.touched ? \"error\" : \"\"\r\n    }`;\r\n    return (\r\n      <div className={className}>\r\n        <label>{formProps.label}</label>\r\n        <input {...formProps.input} autoComplete=\"off\" />\r\n        {this.renderError(formProps.meta)}\r\n      </div>\r\n    );\r\n  };\r\n  onSubmit = formValues => {\r\n    this.props.onSubmit(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form\r\n          onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n          className=\"ui form error\"\r\n        >\r\n          <Field\r\n            name=\"title\"\r\n            component={this.renderInput}\r\n            label=\"Enter Title\"\r\n          />\r\n          <Field\r\n            name=\"description\"\r\n            component={this.renderInput}\r\n            label=\"Enter Description\"\r\n          />\r\n          <button className=\"ui button primary\">Submit</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = formValues => {\r\n  const errors = {};\r\n  if (!formValues.title) {\r\n    errors.title = \"You must enter a title\";\r\n  }\r\n  if (!formValues.description) {\r\n    errors.description = \"You must enter a description\";\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"streamForm\",\r\n  validate: validate\r\n})(StreamForm);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchStream, editStream } from \"../../actions\";\r\nimport StreamForm from \"./StreamForm\";\r\n\r\nclass StreamEdit extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchStream(this.props.match.params.id);\r\n  }\r\n\r\n  onSubmit = formValues => {\r\n    this.props.editStream(this.props.match.params.id, formValues);\r\n  };\r\n  render() {\r\n    if (!this.props.stream) {\r\n      return <div>Loading...</div>;\r\n    }\r\n    return (\r\n      <div>\r\n        <h3>Edit a Stream</h3>\r\n        <StreamForm\r\n          initialValues={{\r\n            title: this.props.stream.title,\r\n            description: this.props.stream.description\r\n          }}\r\n          onSubmit={this.onSubmit}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchStream, editStream }\r\n)(StreamEdit);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStream } from \"../../actions\";\r\nimport StreamForm from \"./StreamForm\";\r\n\r\nclass StreamCreate extends Component {\r\n  onSubmit = formValues => {\r\n    this.props.createStream(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3>Create a stream</h3>\r\n        <StreamForm onSubmit={this.onSubmit} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  { createStream }\r\n)(StreamCreate);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst Modal = props => {\r\n  return ReactDOM.createPortal(\r\n    <div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\r\n      <div\r\n        onClick={e => e.stopPropagation()}\r\n        className=\"ui standard modal visible active\"\r\n      >\r\n        <div className=\"header\">{props.title}</div>\r\n        <div className=\"content\">{props.content}</div>\r\n        <div className=\"actions\">{props.actions}</div>\r\n      </div>\r\n    </div>,\r\n    document.querySelector(\"#modal\")\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Modal from \"../Modal\";\r\nimport history from \"../../history\";\r\nimport { fetchStream, deleteStream } from \"../../actions\";\r\n\r\nclass StreamDelete extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchStream(this.props.match.params.id);\r\n  }\r\n  renderActions() {\r\n    return (\r\n      <React.Fragment>\r\n        <button\r\n          onClick={() => this.props.deleteStream(this.props.match.params.id)}\r\n          className=\"ui button negative\"\r\n        >\r\n          Delete\r\n        </button>\r\n        <Link to=\"/\" className=\"ui button\">\r\n          Cancel\r\n        </Link>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n  renderContent() {\r\n    if (!this.props.stream) {\r\n      return \"Are you sure you want to delete this stream?\";\r\n    }\r\n    return `Are you sure you want to delete this stream with title ${this.props.stream.title}?`;\r\n  }\r\n  render() {\r\n    return (\r\n      <Modal\r\n        title=\"Delete Stream\"\r\n        content={this.renderContent()}\r\n        actions={this.renderActions()}\r\n        onDismiss={() => history.push(\"/\")}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchStream, deleteStream }\r\n)(StreamDelete);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { signIn, signOut } from \"../actions\";\r\n\r\nclass GoogleAuth extends Component {\r\n  componentDidMount() {\r\n    window.gapi.load(\"client:auth2\", () => {\r\n      window.gapi.client\r\n        .init({\r\n          clientId:\r\n            \"846397804737-bm6b2hfu30074r4uta3s2ric2q9jvh27.apps.googleusercontent.com\",\r\n          scope: \"email\"\r\n        })\r\n        .then(() => {\r\n          this.auth = window.gapi.auth2.getAuthInstance();\r\n          this.onAuthChange(this.auth.isSignedIn.get());\r\n          this.auth.isSignedIn.listen(this.onAuthChange);\r\n        });\r\n    });\r\n  }\r\n  onAuthChange = isSignedIn => {\r\n    if (isSignedIn === true) {\r\n      this.props.signIn(this.auth.currentUser.get().getId());\r\n    } else {\r\n      this.props.signOut();\r\n    }\r\n  };\r\n  onSignInClick = () => {\r\n    this.auth.signIn();\r\n  };\r\n  onSignOutClick = () => {\r\n    this.auth.signOut();\r\n  };\r\n  renderAuthButton() {\r\n    if (this.props.isSignedIn === null) {\r\n      return null;\r\n    } else if (this.props.isSignedIn === true) {\r\n      return (\r\n        <button onClick={this.onSignOutClick} className=\"ui red google button\">\r\n          <i className=\"google icon\" />\r\n          Sign Out\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button onClick={this.onSignInClick} className=\"ui green google button\">\r\n          <i className=\"google icon\" />\r\n          Sign In with Google\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n  render() {\r\n    return <div>{this.renderAuthButton()}</div>;\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return { isSignedIn: state.auth.isSignedIn };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { signIn, signOut }\r\n)(GoogleAuth);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport GoogleAuth from \"./GoogleAuth\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"ui secondary pointing menu\">\r\n      <Link to=\"/\" className=\"item\">\r\n        Streamify\r\n      </Link>\r\n      <div className=\"right menu\">\r\n        <Link to=\"/\" className=\"item\">\r\n          All Streams\r\n        </Link>\r\n        <GoogleAuth />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\nimport StreamList from \"./streams/StreamList\";\r\nimport StreamShow from \"./streams/StreamShow\";\r\nimport StreamEdit from \"./streams/StreamEdit\";\r\nimport StreamCreate from \"./streams/StreamCreate\";\r\nimport StreamDelete from \"./streams/StreamDelete\";\r\nimport Header from \"./Header\";\r\nimport history from \"../history\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"ui container\">\r\n      <Router history={history}>\r\n        <div>\r\n          <Header />\r\n          <Switch>\r\n            <Route path=\"/\" exact component={StreamList} />\r\n            <Route path=\"/streams/new\" exact component={StreamCreate} />\r\n            <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\r\n            <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\r\n            <Route path=\"/streams/:id\" exact component={StreamShow} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { SIGN_IN, SIGN_OUT } from \"../actions/types\";\r\n\r\nconst INITIAL_STATE = {\r\n  isSignedIn: null,\r\n  userId: null\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return { ...state, isSignedIn: true, userId: action.payload };\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, userId: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport authReducer from \"./authReducer\";\r\nimport streamReducer from \"./streamReducer\";\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  streams: streamReducer\r\n});\r\n","import _ from \"lodash\";\r\nimport {\r\n  CREATE_STREAM,\r\n  FETCH_STREAMS,\r\n  FETCH_STREAM,\r\n  DELETE_STREAM,\r\n  EDIT_STREAM\r\n} from \"../actions/types\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case FETCH_STREAMS:\r\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\r\n    case CREATE_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case DELETE_STREAM:\r\n      return _.omit(state, action.payload);\r\n    case EDIT_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport App from \"./components/App\";\r\nimport reducers from \"./reducers/index\";\r\nimport reduxThunk from \"redux-thunk\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}